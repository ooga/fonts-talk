<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="comet/black.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>

  <body>
    <div class="reveal">
      <div id="source"></div>
      <div class="slides">
        <section>
          <h1>ùî∏ùïõùï†ùï¶ùï•ùïñùï´ du caract√®re √† ùïßùï†ùï•ùï£ùïñ site üöÄ</h1>
        </section>

        <section>
          <h2>C'est quoi une police de caract√®res ?</h2>
          <blockquote class="fragment">
            Ensemble de glyphes ... de m√™me style, corps et graisse
          </blockquote>
          <aside class="notes">
            Aujourd‚Äôhui, l'usage h√©site entre fonte et police, notamment dans
            l‚Äôinformatique.
          </aside>
        </section>

        <section>
          <h2>C'est quoi un glyphe ?</h2>
          <blockquote class="fragment">
            Un petit symbole dessin√© qui repr√©sente une lettre, une ponctuation
            ou autre.
          </blockquote>
        </section>

        <section>
          <style>
            .file-icon {
              position: relative;
              width: 180px;
            }

            .file-icon svg {
              fill: var(--r-main-color);
            }

            .file-icon-ext {
              position: absolute;
              bottom: 30px;
              left: 0;
              right: 0;
              color: var(--r-background-color);
              font-variation-settings: "EXPR" 100, "SERI" 40;
              font-size: 1.5em;
            }

            .formats-container {
              margin-top: 1rem;
              display: flex;
              justify-content: space-around;
            }

            .formats-container .formats-container-item {
              display: flex;
              flex-direction: column;
            }
          </style>
          <h2>Dans le monde num√©rique...</h2>
          <div>Fichier regroupants des formes vectorielles</div>
          <div>
            2 principaux formats
            <div class="formats-container">
              <div class="formats-container-item">
                <div class="file-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <path
                      d="M 256,0 V 128 H 384 Z M 224,128 V 0 H 48 C 21.49,0 0,21.49 0,48 v 416 c 0,26.5 21.49,48 48,48 h 288 c 26.51,0 48,-21.49 48,-48 V 160 H 256.9 C 238.3,160 224,145.7 224,128 Z"
                    />
                  </svg>
                  <div class="file-icon-ext">.TTF</div>
                </div>
                <div>TrueType</div>
              </div>
              <div class="formats-container-item">
                <div class="file-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <path
                      d="M 256,0 V 128 H 384 Z M 224,128 V 0 H 48 C 21.49,0 0,21.49 0,48 v 416 c 0,26.5 21.49,48 48,48 h 288 c 26.51,0 48,-21.49 48,-48 V 160 H 256.9 C 238.3,160 224,145.7 224,128 Z"
                    />
                  </svg>
                  <div class="file-icon-ext">.OTF</div>
                </div>
                <div>OpenType</div>
              </div>
            </div>
          </div>
          <aside class="notes">
            TrueType format historique OpenType est une √©volution de TrueType,
            r√©sultat d‚Äôun partenariat entre Adobe et Microsoft
          </aside>
        </section>

        <section>
          <h2>WOFF2 pour le web</h2>
          <ul>
            <li>Format compress√© üóú</li>
            <li>Compatible avec TrueType & OpenType</li>
          </ul>
          <aside class="notes">
            https://github.blog/2016-02-22-delivering-octicons-with-svg/ WOFF2
            apporte un gain dans la compression d'environ 30% (gzip -> brotli)
          </aside>
        </section>

        <section>
          <div class="source">Typeface: Arizona (Dinamo)</div>
          <h2>Johan Rouve x Comet</h2>
          <div>@JohanRouve</div>
          <aside class="notes">
            Complexe de trouver le bonne police pour ce talk
          </aside>
        </section>

        <section>
          <h2>Structure</h2>
          <ul>
            <li class="fragment">name</li>
            <li class="fragment">cmap</li>
            <li class="fragment">glyf</li>
          </ul>
          <aside class="notes">
            Une font contient de la donn√©e repartie en table.
            ttx -l /System/Library/Fonts/Supplemental/Arial.ttf
            name: infos nom, style, designer, ...
            glyf: name + points
            cmap: ascii code -> glyph name
            pleins d'autres telle que le positionement ou la substitution
          </aside>
        </section>

        <section>
          <h2>Exemple glyf</h2>
          <img src="./comet/one.jpg" />
        </section>

        <section>
          <h2>Ligature</h2>
          <img class="fragment" src="./comet/fusion.gif" />
          <aside class="notes">
            Permet de remplacer un combinaison de glyphes par un nouveau
          </aside>
        </section>

        <section>
          <style>
            .font-jetbrains {
              font-family: "JetBrainsMono";
            }
            .disable-liga {
              font-variant-ligatures: none;
            }
          </style>
          <script>
            const toggleLigature = () => {
              const items = document.getElementsByClassName("font-jetbrains");
              items.forEach((element) => {
                element.classList.toggle("disable-liga");
              });
            };
          </script>
          <div class="source">JetBrains Mono</div>
          <div
            class="font-jetbrains disable-liga"
            onmouseenter="toggleLigature()"
            onmouseleave="toggleLigature()"
          >
            <p>== != =/= <= >= <></p>
            <p><== <=> ==></p>
            <p>*** ?= <$> <$ $> @_</p>
            <p>|> <| ||> <|| |||> <|||</p>
          </div>
          <aside class="notes">
            Devoxx Logo Colored font:
            https://pixelambacht.nl/2014/multicolor-fonts/
          </aside>
        </section>

        <section>
          <h3>Ligatures standards</h3>
          <p>fi, fl, ff, ffi, ffl, fb, ffb, fj, ffj, fk, ffk, ft, fft</p>
          <p class="fragment">actif par d√©fault</p>
          <pre class="fragment"><code>
			  .disable-liga {
				  font-variant-ligatures: none;
				}
			</code></pre>
        </section>

        <section>
          <h3>ligatures sp√©cifiques</h3>
          <p class="fragment">inactif par d√©fault</p>
          <pre class="fragment"><code>
			.enable-dlig {
				font-variant-ligatures: discretionary-ligatures;
			}
			</code></pre>
        </section>

        <section>
          <h2>Composition</h2>
          <ul>
            <li>Homogeneit√©</li>
            <li>Maintenabilit√©</li>
          </ul>
          <aside class="notes">
            Principalement utilis√© pour les caract√®res accentu√©s
          </aside>
        </section>

        <section>
          <h3>Composition √† l'extreme</h3>
          <style>
            .font-sixtyfour {
              font-family: "Sixtyfour";
              font-variation-settings: "wght" 300;
              font-size: 1.5em;
            }
          </style>
          <div class="source">Sixtyfour</div>
          <div class="font-sixtyfour">
            <p>a √¢ √† e √© √´ √™</p>
            <p>B C D F G H I</p>
          </div>
          <aside class="notes">
            8 glyphes simples
            479 glyphes compos√©s
          </aside>
        </section>

        <section>
          <h2>La qu√™te de l'esperluette</h2>
          <aside class="notes">
            Il y a quelque mois de ca, dans notre equipe quand a on cherch√© une police pour notre design system on a √©t√© confront√© a un probleme similaire, certaine nous plaisait √† l'exception d'1 ou 2 caracteres.
            A l'epoque je ne mettait pas encore pench√© enormement sur les sujets et donc nous avons exclus ces polices de notre shortlist.
            Aujourd‚Äôhui nous allons cr√©e ensemble un nouveau glyphe et on va l'utiliser, vous allez voir c'est plus simple qu'on le pense.
            
            Pendant mes recherches je suis tomb√© sur plusieurs articles de personnes qui recherchait le meilleur glyphe pour le "et commercial"
          </aside>
        </section>

        <section>
          <style>
            .ampersand {
              font-family: "Ampersand";
              font-size: 3em;
            }
          </style>
          <div class="ampersand">Johan & Baba</div>
          <aside class="notes">
            Demo : Dessin esperluette dans Figjam Figjam -> Figma Figma ->
            fichier.svg svg -> Glyphs
          </aside>
        </section>

        <section>
          <h2>Alternatives stylistyques</h2>
        </section>

        <section>
          <style>
            .font-montserrat {
              font-family: "Montserrat";
              font-feature-settings: normal;
            }
            .enable-salt {
              font-feature-settings: "salt";
            }
          </style>
          <script>
            const toggleAlternate = () => {
              const items = document.getElementsByClassName("font-montserrat");
              items.forEach((element) => {
                element.classList.toggle("enable-salt");
              });
            };
          </script>
          <div class="source">Montserrat</div>
          <div
            class="font-montserrat"
            onmouseenter="toggleAlternate()"
            onmouseleave="toggleAlternate()"
          >
          <p>a e √© f l t w y z</p>
            <p>A E √â F G I J M N Q T U W Y Z</p>
          </div>
        </section>

        <section>
          <h3>Alternative stylistique</h3>
          <pre class="fragment"><code>
			  .enable-salt {
				  font-feature-settings: "salt";
				}
			</code></pre>
        </section>

        <section>
          <h3>Ensemble stylistique</h3>
          <pre class="fragment"><code>
			  .enable-salt {
				  font-feature-settings: "ss02";
				}
			</code></pre>
      <aside class="notes">
        Visulaiser avec https://fontdrop.info
        Arizona 
        - 2 alternative pour "a"
        - 1 alternative pour "g"
      </aside>
        </section>

        <section>
          <h2>Couleurs</h2>
        </section>

        <section>
          <style>
            .font-bradley {
              font-family: "Bradley Initials DJR";
              font-size: 6em;
            }
            .provided-palette {
              font-palette: --font-palette-bumble-bee;
            }
            .custom-palette {
              font-palette: --font-palette-custom;
            }
          </style>
          <div class="source">Bradley Initials DJR</div>
          <p class="font-bradley">
            <span>D</span>
            <span class="provided-palette">D</span>
            <span class="custom-palette">D</span>
          </p>
          <aside class="notes">
            ttx dump to see palette: ttx -t CPAL -o - comet/BradleyInitialsDJR-Regular.woff
          </aside>
        </section>

        <section>
            <pre><code data-line-numbers="1-4|6-10|12-15">    @font-face {
      font-family: 'Bradley Initials DJR';
      src: url('./BradleyInitialsDJR-Regular.woff2');
    }

    @font-palette-values --custom-palette {
      font-family: 'Bradley Initials DJR';
      base-palette: 1;
      override-colors: 0 #FFE424, 1 #FFFFFF;
    }

    body {
      font-family: "Bradley Initials DJR";
      font-palette: --custom-palette;
    }
            </code></pre>
        </section>

        <section id="slide-variable-start">
          <p class="r-fit-text">Il y a quelque chose de differents</p>
          <p
            class="fragment r-fit-text"
            style="
              font-variation-settings: 'wght' var(--r-main-font-weight), 'srff' 0;
            "
          >
          Il y a quelque chose de differents
          </p>
          <aside class="notes">https://redbrain.github.io/varianz/</aside>
        </section>

        <section>
          <img src="./comet/liar.gif" />
        </section>

        <section>
          <style>
            .font-variable-serif {
              font-variation-settings: "wght" var(--r-main-font-weight), "srff" var(--r-main-font-serif);
            }
            .font-variable-range-container {
              width: 80%;
              margin: 0 auto;
              display: grid;
              grid-template-columns: 1fr 2fr;
              grid-row-gap: 1em;
            }
            .font-variable-range-container input {
              width: 100%;
            }
          </style>
          <div class="source">Arizona (Dinamo)</div>
          <p class="font-variable-serif r-fit-text">Variable font for the win !</p>
          <div class="font-variable-range-container">
            <div class="fragment">Serif</div>
            <input id="font-variable-serif-input" type="range" min="0" max="100" value="100" />
            <div class="fragment">Weight</div>
            <input id="font-variable-weight-input" class="fragment" type="range" min="20" max="150" value="90" />
          </div>
          <script>
            const setSerifVar = (e) => {
              const items = document.getElementsByClassName("font-variable-serif");
              items.forEach((element) => {
                element.style.setProperty("--r-main-font-serif", e.target.value);
              });
            };
            const setWeightVar = (e) => {
              const items = document.getElementsByClassName("font-variable-serif");
              items.forEach((element) => {
                element.style.setProperty("--r-main-font-weight", e.target.value);
              });
            };

            const serifInput = document.getElementById('font-variable-serif-input');
            serifInput.addEventListener('mousemove', setSerifVar)

            const weightInput = document.getElementById('font-variable-weight-input');
            weightInput.addEventListener('mousemove', setWeightVar)
          </script>
        </section>

        <section>
          <h3>Axe de variation</h3>
          <aside class="notes">
            Uniquement sur les glyphes simples
          </aside>
        </section>

        <section>
          <style>
            .font-muybridge {
              font-family: 'Muybridge';
              line-height: 220px;
              animation: 0.6s linear infinite Gallop;
            }

            .font-muybridge:hover {
              animation-duration: 6s;
            }
          </style>
          <div class="source">Muybridge</div>
          <h3>Animation</h3>
          <div class="font-muybridge r-fit-text fragment">üêé</div>
          <aside class="notes">
            Uniquement sur les glyphes simples
          </aside>
        </section>

      </div>
      <footer class="devoxx">DEVOXX France</footer>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });

      Reveal.addEventListener("slidechanged", function (e) {
        
        // console.log({ e });

        handleSource(e.currentSlide);
        handleVariableFontTransition(e.indexh);
      });

      function handleVariableFontTransition(current) {
        const maxSerif = 100;
        const total = Reveal.getTotalSlides();
        const sections = [...document.getElementsByTagName('section')];
        const variableStartSectionIndex = sections.reduceRight((acc, current, index) => {
          if (current.id === "slide-variable-start") {
            return index;
          }

          return acc;
        }, total);
        const computedSerif = (current / (variableStartSectionIndex)) * maxSerif;
        const serif = Math.min(computedSerif, maxSerif)
        console.log({current, total, variableStartSectionIndex, computedSerif, serif})

        let root = document.documentElement;
        root.style.setProperty("--r-main-font-serif", serif);
      }

      function handleSource(currentSlide) {
        const sources = currentSlide.getElementsByClassName("source");
        const node = document.getElementById("source");
        if (sources.length > 0) {
          const text = sources[0].innerText;
          node.innerText = text;
          node.style.display = "block";
        } else {
          node.style.display = "none";
        }
      }
    </script>
  </body>
</html>
